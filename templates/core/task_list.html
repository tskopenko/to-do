{% extends "base.html" %}

{% block content %}
  <h1>
    Task list
    <a href="{% url 'core:task-create' %}" class="btn btn-primary link-to-page">
      Create new task
    </a>
  </h1>
  {% if task_list %}
    {% for task in task_list %}

        <h4><p>{{ task.content }}
          {% if task.is_done %}
          <span style="color:limegreen">{{ task.is_finished }}</span>
          {% else %}
          <span style="color:red">{{ task.is_finished }}</span>
          {% endif %}
        </p></h4>
        {% if task.is_done %}
          <a href="{% url 'core:undone' pk=task.id %}" class="btn btn-outline-secondary">Undo</a>
        {% else %}
          <a href="{% url 'core:done' pk=task.id %}" class="btn btn-outline-success">Complete</a>
        {% endif %}
        <br>
        Created: {{ task.datetime }} {% if task.deadline %}<p style="color:darkred"> Deadline: {{ task.deadline }} </p>{% endif %}<br>
        Tags: {% for tag in task.tags.all %}
        {{ tag }},
        {% endfor %}
      <br>
      <a href="{% url 'core:task-delete' pk=task.id %}" class="btn btn-danger link-to-page">
        Delete
      </a>

      <a href="{% url 'core:task-update' pk=task.id %}" class="btn btn-secondary link-to-page">
        Update
      </a>
      <hr>
    {% endfor %}

  {% else %}
    <p>There are no tasks</p>
  {% endif %}
{% endblock %}